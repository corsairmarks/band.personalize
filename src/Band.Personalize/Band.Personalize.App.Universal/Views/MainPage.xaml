<prismMvvm:SessionStateAwarePage
    x:Class="Band.Personalize.App.Universal.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:designViewModels="using:Band.Personalize.App.Universal.ViewModels.Design"
    xmlns:prismMvvm="using:Prism.Windows.Mvvm"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DataContext="{d:DesignInstance designViewModels:DesignMainPageViewModel, IsDesignTimeCreatable=True}"
    prismMvvm:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d">
    <Grid x:Name="TheGridView" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <GridView Grid.Row="0" ItemsSource="{Binding Path=ConnectedBands}">
            <GridView.ItemTemplate>
                <DataTemplate>
                    <Button Width="150" Height="150" Background="{StaticResource SystemControlForegroundAccentBrush}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Command="{Binding DataContext.NavigateToBandPageCommand, ElementName=TheGridView}" CommandParameter="{Binding}">
                        <RelativePanel>
                            <TextBlock Text="{Binding Name}" TextWrapping="Wrap" RelativePanel.AlignTopWithPanel="True" RelativePanel.AlignLeftWithPanel="True" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" />
                            <Ellipse Height="50" Width="50" Fill="{ThemeResource SystemControlForegroundChromeWhiteBrush}"  RelativePanel.AlignVerticalCenterWithPanel="True" RelativePanel.AlignHorizontalCenterWithPanel="True" />
                            <SymbolIcon Symbol="{Binding ConnectionType, Converter={StaticResource ConnectionTypeToSymbolConverter}}" RenderTransformOrigin="0.5,0.5" Foreground="{StaticResource SystemControlForegroundAccentBrush}"  RelativePanel.AlignVerticalCenterWithPanel="True" RelativePanel.AlignHorizontalCenterWithPanel="True">
                                <SymbolIcon.RenderTransform>
                                    <CompositeTransform ScaleX="1.5" ScaleY="1.5" />
                                </SymbolIcon.RenderTransform>
                            </SymbolIcon>
                            <StackPanel Orientation="Horizontal" RelativePanel.AlignBottomWithPanel="True" RelativePanel.AlignLeftWithPanel="True">
                                <TextBlock Text="{Binding HardwareRevision}" Margin="0,0,2,0" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" />
                                <TextBlock Text="(" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" />
                                <TextBlock Text="{Binding HardwareVersion}" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" />
                                <TextBlock Text=")" Foreground="{ThemeResource SystemControlForegroundChromeWhiteBrush}" />
                            </StackPanel>
                        </RelativePanel>
                    </Button>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>
        <CommandBar Grid.Row="1">
            <AppBarButton x:Uid="RefreshAppBarButton" Icon="Refresh" Label="Refresh" Command="{Binding Path=RefreshConnectedBandsCommand}" />
            <AppBarButton x:Uid="CancelAppBarButton" Icon="Cancel" Label="Cancel" Command="{Binding Path=CancelRefreshConnectedBandsCommand}" IsEnabled="{Binding Path=IsBusy}" />
        </CommandBar>
    </Grid>
</prismMvvm:SessionStateAwarePage>
